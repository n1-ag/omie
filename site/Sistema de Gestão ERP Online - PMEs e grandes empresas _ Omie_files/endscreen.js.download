(function(g){var window=this;'use strict';var MJ=function(M){M.publish("autonavvisibility")},oy9=function(M,W){g.q8(M,"onAutonavCoundownStarted",W)},Wz=function(M){return M.isBackground()&&M.iy()},clh=function(M,W){W=W.getWatchNextResponse()?.playerOverlays?.playerOverlayRenderer?.autoplay?.playerOverlayAutoplayRenderer?.nextButton?.buttonRenderer;
M.O=W?.navigationEndpoint;W=W?.trackingParams;M.playButton&&W&&M.L.setTrackingParams(M.playButton.element,W)},qJ=function(M){const W=bc(M);
var b=Math,T=b.min;var q=M.W?Date.now()-M.W:0;b=T.call(b,q,W);T5(M,Math.ceil((W-b)/1E3));W-b<=500&&M.Z()?M.select(!0):M.Z()&&M.X.start()},X8=function(M){var W=M.L.RE(!0,M.L.isFullscreen());
g.H(M.container.element,"ytp-autonav-endscreen-small-mode",M.Wx(W));g.H(M.container.element,"ytp-autonav-endscreen-is-premium",!!M.suggestion&&!!M.suggestion.Zb);g.H(M.L.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!M.L.h_());g.H(M.L.getRootNode(),"countdown-running",M.Z());g.H(M.container.element,"ytp-player-content",M.L.h_());g.iq(M.overlay.element,{width:`${W.width}px`});if(!M.Z()){M.L.h_()?T5(M,Math.round(bc(M)/1E3)):T5(M);W=!!M.suggestion&&!!M.suggestion.AE;const b=M.L.h_()||!W;g.H(M.container.element,
"ytp-autonav-endscreen-upnext-alternative-header-only",!b&&W);g.H(M.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",b&&!W);M.C.eW(M.L.h_());g.H(M.element,"ytp-enable-w2w-color-transitions",!!M.L.getVideoData()?.watchToWatchTransitionRenderer)}},T5=function(M,W=-1){M=M.A.hn("ytp-autonav-endscreen-upnext-header");
g.B5(M);if(W>=0){W=String(W);const b="Pr\u00f3ximo v\u00eddeo em $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],T="Pr\u00f3ximo v\u00eddeo em $SECONDS".indexOf(b);if(T>=0){M.appendChild(g.V4("Pr\u00f3ximo v\u00eddeo em $SECONDS".slice(0,T)));const q=g.Gr("span");g.s9(q,"ytp-autonav-endscreen-upnext-header-countdown-number");g.nr(q,W);M.appendChild(q);M.appendChild(g.V4("Pr\u00f3ximo v\u00eddeo em $SECONDS".slice(T+b.length)));return}}g.nr(M,"Pr\u00f3ximo")},bc=function(M){return M.L.isFullscreen()?
(M=M.L.getVideoData()?.tE,M===-1||M===void 0?8E3:M):M.L.zC()>=0?M.L.zC():g.TO(M.L.G().experiments,"autoplay_time")||1E4},je=function(M,W){W=QEr(M,W);
var b=Math,T=b.min;var q=(0,g.u)()-M.W;b=T.call(b,q,W);W=W===0?1:Math.min(b/W,1);M.BY.setAttribute("stroke-dashoffset",`${-211*(W+1)}`);W>=1&&M.Z()&&M.api.getPresentingPlayerType()!==3?M.select(!0):M.Z()&&M.A.start()},QEr=function(M,W){return W?W:M.api.isFullscreen()?(M=M.api.getVideoData()?.tE,M===-1||M===void 0?8E3:M):M.api.zC()>=0?M.api.zC():g.TO(M.api.G().experiments,"autoplay_time")||1E4},G5=function(M){const W=M.h_();
W!==M.W&&(M.W=W,MJ(M.player),M.W?(M.V!==M.Z&&M.V.hide(),M.table.hide()):(M.V!==M.Z&&M.V.show(),M.table.show()))},Vj=function(M){return g.N8(M.player)&&M.A()&&!M.S},JU=function(M){const W=M.h_();
W!==M.X&&(M.X=W,MJ(M.player))},Bz=function(M){return g.N8(M.player)&&M.A()&&!M.C},D1=function(M){const W=M.h_();
W!==M.Zs&&(M.Zs=W,MJ(M.player))},gyB=function(M){M=M.G();
return M.WP&&!M.Ic&&!M.disableOrganicUi},sE$=function(M){const W=M.player.getVideoData();
if(!W||M.Z===W.XP&&M.V===W.OY)return!1;M.Z=W.XP;M.V=W.OY;return!0},wlc=function(M){M.player.lN("endscreen");
var W=M.player.getVideoData();W=new g.Ap(Math.max((W.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});const b=new g.Ap(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});M.player.QV([W,b])};
g.J0.prototype.zC=g.Wy(9,function(){return this.app.zC()});
g.ps.prototype.zC=g.Wy(8,function(){return this.getVideoData().LA});
g.VY.prototype.z8=g.Wy(7,function(M){this.rS().z8(M)});
g.IG.prototype.z8=g.Wy(6,function(M){this.BX!==M&&(this.BX=M,this.y9())});
var plE=class extends g.w{constructor(M){const W=M.G(),b=W.A;super({K:"a",N:"ytp-autonav-suggestion-card",Y:{href:"{{url}}",target:b?W.X:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},U:[{K:"div",rK:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],Y:{style:"{{background}}"},U:[{K:"div",Y:{"aria-label":"{{timestamp}}"},rK:["ytp-autonav-timestamp"],R0:"{{duration}}"},
{K:"div",rK:["ytp-autonav-live-stamp"],R0:"Ao vivo"},{K:"div",rK:["ytp-autonav-upcoming-stamp"],R0:"Em breve"},{K:"div",N:"ytp-autonav-list-overlay",U:[{K:"div",N:"ytp-autonav-mix-text",R0:"Mix"},{K:"div",N:"ytp-autonav-mix-icon"}]}]},{K:"div",rK:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],R0:"{{title}}"},{K:"div",rK:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],R0:"{{author}}"},{K:"div",rK:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],
R0:"{{views_and_publish_time}}"}]});this.L=M;this.suggestion=null;this.Z=b;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)}select(){this.L.jA(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.aQ||void 0)&&this.L.logClick(this.element)}onClick(M){g.OA(M,this.L,this.Z,this.suggestion.sessionData||void 0)&&this.select()}onKeyPress(M){switch(M.keyCode){case 13:case 32:M.defaultPrevented||(this.select(),M.preventDefault())}}};var aT=class extends g.w{constructor(M,W=!1){super({K:"div",N:"ytp-autonav-endscreen-countdown-overlay"});this.An=W;this.cancelCommand=this.O=void 0;this.W=0;this.container=new g.w({K:"div",N:"ytp-autonav-endscreen-countdown-container"});g.t(this,this.container);this.container.cY(this.element);W=M.G();const b=W.A;this.L=M;this.suggestion=null;this.onVideoDataChange("newdata",this.L.getVideoData());this.J(M,"videodatachange",this.onVideoDataChange);this.A=new g.w({K:"div",N:"ytp-autonav-endscreen-upnext-container",
Y:{"aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},U:[{K:"div",N:"ytp-autonav-endscreen-upnext-header"},{K:"div",N:"ytp-autonav-endscreen-upnext-alternative-header",R0:"{{autoplayAlternativeHeader}}"},{K:"a",N:"ytp-autonav-endscreen-link-container",Y:{href:"{{url}}",target:b?W.X:""},U:[{K:"div",N:"ytp-autonav-endscreen-upnext-thumbnail",Y:{style:"{{background}}"},U:[{K:"div",Y:{"aria-label":"{{timestamp}}"},
rK:["ytp-autonav-timestamp"],R0:"{{duration}}"},{K:"div",rK:["ytp-autonav-live-stamp"],R0:"Ao vivo"},{K:"div",rK:["ytp-autonav-upcoming-stamp"],R0:"Em breve"}]},{K:"div",N:"ytp-autonav-endscreen-video-info",U:[{K:"div",N:"ytp-autonav-endscreen-premium-badge"},{K:"div",N:"ytp-autonav-endscreen-upnext-title",R0:"{{title}}"},{K:"div",N:"ytp-autonav-endscreen-upnext-author",R0:"{{author}}"},{K:"div",N:"ytp-autonav-view-and-date",R0:"{{views_and_publish_time}}"},{K:"div",N:"ytp-autonav-author-and-view",
R0:"{{author_and_views}}"}]}]}]});g.t(this,this.A);this.A.cY(this.container.element);b||this.J(this.A.hn("ytp-autonav-endscreen-link-container"),"click",this.sY);this.L.createClientVe(this.container.element,this,115127);this.L.createClientVe(this.A.hn("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.w({K:"div",N:"ytp-autonav-overlay"});g.t(this,this.overlay);this.overlay.cY(this.container.element);this.C=new g.w({K:"div",N:"ytp-autonav-endscreen-button-container"});g.t(this,
this.C);this.C.cY(this.container.element);this.cancelButton=new g.w({K:"button",rK:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button","ytp-autonav-endscreen-upnext-button-rounded"],Y:{"aria-label":"Cancelar reprodu\u00e7\u00e3o autom\u00e1tica"},R0:"Cancelar"});g.t(this,this.cancelButton);this.cancelButton.cY(this.C.element);this.cancelButton.listen("click",this.BY,this);this.L.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.w({K:"a",rK:["ytp-autonav-endscreen-upnext-button",
"ytp-autonav-endscreen-upnext-play-button","ytp-autonav-endscreen-upnext-button-rounded"],Y:{href:"{{url}}",role:"button","aria-label":"Reproduzir pr\u00f3ximo v\u00eddeo"},R0:"Assista agora"});g.t(this,this.playButton);this.playButton.cY(this.C.element);this.playButton.listen("click",this.sY,this);this.L.createServerVe(this.playButton.element,this.playButton,!0);(W=this.L.getVideoData())&&clh(this,W);this.X=new g.d9(()=>{qJ(this)},500);
g.t(this,this.X);this.Zs();this.J(M,"autonavvisibility",this.Zs);this.L.j("web_autonav_color_transition")&&(this.J(M,"autonavchange",this.yz),this.J(M,"onAutonavCoundownStarted",this.lV))}D(M){this.suggestion!==M&&(this.suggestion=M,g.vT(this.A,M),this.playButton.updateValue("url",this.suggestion.Kx()),X8(this))}Z(){return this.W>0}S(){this.Z()||(this.W=Date.now(),qJ(this),oy9(this.L,bc(this)),g.H(this.L.getRootNode(),"countdown-running",this.Z()))}B(){this.V();qJ(this);const M=this.A.hn("ytp-autonav-endscreen-upnext-header");
M&&g.nr(M,"Pr\u00f3ximo")}V(){this.Z()&&(this.X.stop(),this.W=0)}select(M=!1){this.L.nextVideo(!1,M);this.V()}sY(M){g.OA(M,this.L)&&(M.currentTarget===this.playButton.element?this.L.logClick(this.playButton.element):M.currentTarget===this.A.hn("ytp-autonav-endscreen-link-container")&&(M=this.A.hn("ytp-autonav-endscreen-link-container"),this.L.logVisibility(M,!0),this.L.logClick(M)),this.O?(g.q8(this.L,"innertubeCommand",this.O),this.V()):this.select())}BY(){this.L.logClick(this.cancelButton.element);
g.Ke(this.L,!0);this.cancelCommand&&g.q8(this.L,"innertubeCommand",this.cancelCommand)}onVideoDataChange(M,W){clh(this,W);this.cancelCommand=W.getWatchNextResponse()?.playerOverlays?.playerOverlayRenderer?.autoplay?.playerOverlayAutoplayRenderer?.cancelButton?.buttonRenderer?.command}lV(M){if(this.L.getVideoData()?.watchToWatchTransitionRenderer){var W=this.L.getVideoData().watchToWatchTransitionRenderer;const b=W?.fromColorPaletteDark,T=W?.toColorPaletteDark;b&&T&&(W=this.element,W.style.setProperty("--w2w-start-background-color",
g.oI(b.surgeColor)),W.style.setProperty("--w2w-start-primary-text-color",g.oI(b.primaryTitleColor)),W.style.setProperty("--w2w-start-secondary-text-color",g.oI(b.secondaryTitleColor)),W.style.setProperty("--w2w-end-background-color",g.oI(T.surgeColor)),W.style.setProperty("--w2w-end-primary-text-color",g.oI(T.primaryTitleColor)),W.style.setProperty("--w2w-end-secondary-text-color",g.oI(T.secondaryTitleColor)),W.style.setProperty("--w2w-animation-duration",`${M}ms`));g.H(this.element,"ytp-w2w-animate",
!0)}}yz(M){this.L.j("web_autonav_color_transition")&&M!==2&&g.H(this.element,"ytp-w2w-animate",!1)}Zs(){const M=this.L.h_();this.An&&this.Ta!==M&&this.eW(M);X8(this);this.L.logVisibility(this.container.element,M);this.L.logVisibility(this.cancelButton.element,M);this.L.logVisibility(this.A.hn("ytp-autonav-endscreen-link-container"),M);this.L.logVisibility(this.playButton.element,M)}Wx(M){return M.width<400||M.height<459}};var Ev=class extends g.w{constructor(M,W){super({K:"div",rK:["html5-endscreen","ytp-player-content",W||"base-endscreen"]});this.created=!1;this.player=M}create(){this.created=!0}destroy(){this.created=!1}A(){return!1}h_(){return!1}O(){return!1}};var n8=class extends g.w{constructor(M){super({K:"div",rK:["ytp-upnext","ytp-player-content"],Y:{"aria-label":"{{aria_label}}"},U:[{K:"div",N:"ytp-cued-thumbnail-overlay-image",Y:{style:"{{background}}"}},{K:"span",N:"ytp-upnext-top",U:[{K:"span",N:"ytp-upnext-header",R0:"Pr\u00f3ximo"},{K:"span",N:"ytp-upnext-title",R0:"{{title}}"},{K:"span",N:"ytp-upnext-author",R0:"{{author}}"}]},{K:"a",N:"ytp-upnext-autoplay-icon",Y:{role:"button",href:"{{url}}","aria-label":"Reproduzir pr\u00f3ximo v\u00eddeo"},
U:[{K:"svg",Y:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},U:[{K:"circle",N:"ytp-svg-autoplay-circle",Y:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{K:"circle",N:"ytp-svg-autoplay-ring",Y:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{K:"path",N:"ytp-svg-fill",Y:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{K:"span",N:"ytp-upnext-bottom",
U:[{K:"span",N:"ytp-upnext-cancel"},{K:"span",N:"ytp-upnext-paused",R0:"Reprodu\u00e7\u00e3o autom\u00e1tica pausada"}]}]});this.api=M;this.cancelButton=null;this.BY=this.hn("ytp-svg-autoplay-ring");this.X=this.notification=this.A=this.suggestion=null;this.O=new g.d9(this.C,5E3,this);this.W=0;var W=this.hn("ytp-upnext-cancel");this.cancelButton=new g.w({K:"button",rK:["ytp-upnext-cancel-button","ytp-button"],Y:{tabindex:"0","aria-label":"Cancelar reprodu\u00e7\u00e3o autom\u00e1tica"},R0:"Cancelar"});
g.t(this,this.cancelButton);this.cancelButton.listen("click",this.sY,this);this.cancelButton.cY(W);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,this,115129);g.t(this,this.O);this.api.createClientVe(this.element,this,18788);W=this.hn("ytp-upnext-autoplay-icon");this.J(W,"click",this.yz);this.api.createClientVe(W,this,115130);this.Zs();this.J(M,"autonavvisibility",this.Zs);this.J(M,"mdxnowautoplaying",this.lV);this.J(M,"mdxautoplaycanceled",this.An);g.H(this.element,"ytp-upnext-mobile",
this.api.G().V)}C(){this.notification&&(this.O.stop(),this.fN(this.X),this.X=null,this.notification.close(),this.notification=null)}D(M){this.suggestion=M;g.vT(this,M,"hqdefault.jpg")}Zs(){this.eW(this.api.h_());this.api.logVisibility(this.element,this.api.h_());this.api.logVisibility(this.hn("ytp-upnext-autoplay-icon"),this.api.h_());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.h_())}xk(){window.focus();this.C()}S(M){this.Z()||(g.M9("a11y-announce",`${"Pr\u00f3ximo"} ${this.suggestion.title}`),
this.W=(0,g.u)(),this.A=new g.d9(()=>{je(this,M)},25),je(this,M),oy9(this.api,QEr(this,M)));
g.Mw(this.element,"ytp-upnext-autoplay-paused")}hide(){super.hide()}Z(){return!!this.A}B(){this.V();this.W=(0,g.u)();je(this);g.pY(this.element,"ytp-upnext-autoplay-paused")}V(){this.Z()&&(this.A.dispose(),this.A=null)}select(M=!1){if(this.api.G().j("autonav_notifications")&&M&&window.Notification&&typeof document.hasFocus==="function"){const W=Notification.permission;W==="default"?Notification.requestPermission():W!=="granted"||document.hasFocus()||(this.C(),this.notification=new Notification("Pr\u00f3ximo",
{body:this.suggestion.title,icon:this.suggestion.pz()}),this.X=this.J(this.notification,"click",this.xk),this.O.start())}this.V();this.api.nextVideo(!1,M)}yz(M){!g.ES(this.cancelButton.element,M.target)&&g.OA(M,this.api)&&(this.api.h_()&&this.api.logClick(this.hn("ytp-upnext-autoplay-icon")),this.select())}sY(){this.api.h_()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.Ke(this.api,!0)}lV(M){this.api.getPresentingPlayerType();this.show();this.S(M)}An(){this.api.getPresentingPlayerType();
this.V();this.hide()}vY(){this.V();this.C();super.vY()}};var $x9=class extends Ev{constructor(M){super(M,"autonav-endscreen");this.overlay=this.videoData=null;this.table=new g.w({K:"div",N:"ytp-suggestion-panel",U:[{K:"div",rK:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],R0:"Mais v\u00eddeos"}]});this.X=new g.w({K:"div",N:"ytp-suggestions-container"});this.videos=[];this.B=null;this.W=this.D=!1;this.V=new aT(this.player);g.t(this,this.V);this.V.cY(this.element);M.getVideoData().OY?this.Z=this.V:(this.Z=new n8(M),g.Im(this.player,
this.Z.element,4),g.t(this,this.Z));this.overlay=new g.w({K:"div",N:"ytp-autonav-overlay-cancelled-state"});g.t(this,this.overlay);this.overlay.cY(this.element);this.S=new g.Cq(this);g.t(this,this.S);g.t(this,this.table);this.table.cY(this.element);this.table.show();g.t(this,this.X);this.X.cY(this.table.element);this.hide()}create(){super.create();this.S.J(this.player,"appresize",this.C);this.S.J(this.player,"onVideoAreaChange",this.C);this.S.J(this.player,"videodatachange",this.onVideoDataChange);
this.S.J(this.player,"autonavchange",this.Zs);this.S.J(this.player,"onAutonavCancelled",this.sY);this.onVideoDataChange()}show(){super.show();(this.D||this.B&&this.B!==this.videoData.clientPlaybackNonce)&&g.Ke(this.player,!1);g.N8(this.player)&&this.A()&&!this.B?(G5(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||Wz(this.player.fK())&&this.player.j("web_player_pip_logging_fix")?this.Z.select(!0):this.Z.S():this.videoData.autonavState===3&&this.Z.B()):(g.Ke(this.player,
!0),G5(this));this.C()}hide(){super.hide();this.Z.B();G5(this)}C(){var M=this.player.RE(!0,this.player.isFullscreen());G5(this);X8(this.V);g.H(this.element,"ytp-autonav-cancelled-small-mode",this.Wx(M));g.H(this.element,"ytp-autonav-cancelled-tiny-mode",this.cz(M));g.H(this.element,"ytp-autonav-cancelled-mini-mode",M.width<=400||M.height<=360);this.overlay&&g.iq(this.overlay.element,{width:`${M.width}px`});if(!this.W)for(M=0;M<this.videos.length;M++)g.H(this.videos[M].element,"ytp-suggestion-card-with-margin",
M%2===1)}onVideoDataChange(){var M=this.player.getVideoData();if(this.videoData!==M&&M){this.videoData=M;M=this.videoData.suggestions;var W=this.videoData.X();W&&(this.Z.D(W),this.Z!==this.V&&this.V.D(W));if(M&&M.length)for(let T=0;T<YN$.length;++T){var b=YN$[T];M&&M[b]&&(this.videos[T]=new plE(this.player),W=this.videos[T],b=M[b],W.suggestion!==b&&(W.suggestion=b,g.vT(W,b)),g.t(this,this.videos[T]),this.videos[T].cY(this.X.element))}this.C()}}Zs(M){M===1?(this.D=!1,this.B=this.videoData.clientPlaybackNonce,
this.Z.V(),this.Ta&&this.C()):(this.D=!0,this.h_()&&(M===2?this.Z.S():M===3&&this.Z.B()))}sY(M){M?this.Zs(1):(this.B=null,this.D=!1)}A(){return this.videoData.autonavState!==1}Wx(M){return(M.width<910||M.height<459)&&!this.cz(M)&&!(M.width<=400||M.height<=360)}cz(M){return M.width<800&&!(M.width<=400||M.height<=360)}h_(){return this.Ta&&g.N8(this.player)&&this.A()&&!this.B}},YN$=[1,3,2,4];var Mar=class extends Ev{constructor(M){super(M,"videowall-endscreen");this.L=M;this.stills=[];this.S=this.videoData=null;this.C=this.X=!1;this.Zs=null;g.pY(this.element,"modern-videowall-endscreen");this.V=new g.Cq(this);g.t(this,this.V);this.W=new g.d9(()=>{g.pY(this.element,"ytp-show-tiles")},0);
g.t(this,this.W);this.table=new g.ig({K:"div",N:"ytp-modern-endscreen-content"});g.t(this,this.table);this.table.cY(this.element);M.getVideoData().OY?this.Z=new aT(M,!0):this.Z=new n8(M);g.t(this,this.Z);g.Im(this.player,this.Z.element,4);M.createClientVe(this.element,this,158789);this.hide()}create(){super.create();var M=this.player.getVideoData();M&&(this.videoData=M);this.B();this.V.J(this.player,"appresize",this.B);this.V.J(this.player,"onVideoAreaChange",this.B);this.V.J(this.player,"videodatachange",
this.onVideoDataChange);this.V.J(this.player,"autonavchange",this.D);this.V.J(this.player,"onAutonavCancelled",this.sY);M=this.videoData.autonavState;M!==this.Zs&&this.D(M);this.V.J(this.element,"transitionend",this.yz)}destroy(){this.V.V();g.Qb(this.stills);this.stills=[];super.destroy();g.Mw(this.element,"ytp-show-tiles");this.W.stop();this.Zs=this.videoData.autonavState}A(){return this.videoData.autonavState!==1}show(){const M=this.Ta;super.show();g.Mw(this.element,"ytp-show-tiles");this.player.G().V?
g.oP(this.W):this.W.start();(this.C||this.S&&this.S!==this.videoData.clientPlaybackNonce)&&g.Ke(this.player,!1);Vj(this)?(JU(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||Wz(this.player.fK())&&this.player.j("web_player_pip_logging_fix")?this.Z.select(!0):this.Z.S():this.videoData.autonavState===3&&this.Z.B()):(g.Ke(this.player,!0),JU(this));M!==this.Ta&&this.player.logVisibility(this.element,!0)}hide(){const M=this.Ta;super.hide();this.Z.B();JU(this);M!==this.Ta&&this.player.logVisibility(this.element,
!1)}yz(M){M.target===this.element&&this.B()}B(){const M=this.videoData?.suggestions?.length?this.videoData?.suggestions:[this.videoData?.X()];if(M.length){var W=this.L.RE(!0,this.L.isFullscreen()),b=Math.floor((W.width-64+16)/(g.fy(W.width*.27,250,450)+16));W=Math.min(3,Math.floor((W.height-64)/((W.width-64-(b-1)*16)/b*.5625+70)));g.WN(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);g.pY(this.element,`ytp-modern-endscreen-limit-rows-${W}`);
g.H(this.element,"ytp-modern-endscreen-single-item",b===1);g.H(this.element,"ytp-modern-endscreen-row-0",W===0);b=this.table.element;b.ariaLive="polite";this.Z.D(this.videoData.X());this.Z instanceof aT&&X8(this.Z);g.H(this.element,"ytp-endscreen-takeover",Vj(this));JU(this);W=0;b.ariaBusy="true";var T=M.length;for(let q=0;q<T;q++){const X=q%T;let G=this.stills[q];G||(G=new g.CI$(this.player),this.stills[q]=G,b.appendChild(G.element));g.Xup(G,M[X]);W++}this.stills.length=W}}onVideoDataChange(){const M=
this.player.getVideoData({playerType:1});this.videoData!==M&&(M?.X()?(this.videoData=M,this.B()):this.player.dK("missg",{vid:M?.videoId||"",cpn:M?.clientPlaybackNonce||""}))}O(){return this.Z.Z()}D(M){M===1?(this.C=!1,this.S=this.videoData.clientPlaybackNonce,this.Z.V(),this.Ta&&this.B()):(this.C=!0,this.Ta&&Vj(this)&&(M===2?this.Z.S():M===3&&this.Z.B()))}sY(M){if(M){for(M=0;M<this.stills.length;M++)this.L.logVisibility(this.stills[M].element,!0);this.D(1)}else this.S=null,this.C=!1;this.B()}h_(){return this.Ta&&
Vj(this)}};var WX9=class extends Ev{constructor(M){super(M,"subscribecard-endscreen");this.Z=new g.w({K:"div",N:"ytp-subscribe-card",U:[{K:"img",N:"ytp-author-image",Y:{src:"{{profilePicture}}"}},{K:"div",N:"ytp-subscribe-card-right",U:[{K:"div",N:"ytp-author-name",R0:"{{author}}"},{K:"div",N:"html5-subscribe-button-container"}]}]});g.t(this,this.Z);this.Z.cY(this.element);const W=M.getVideoData();this.subscribeButton=new g.nA("Inscreva-se",null,"Cancelar assinatura",null,!0,!1,W.YJ,W.subscribed,"trailer-endscreen",
null,M,!1);g.t(this,this.subscribeButton);this.subscribeButton.cY(this.Z.hn("html5-subscribe-button-container"));this.J(M,"videodatachange",this.zv);this.zv();this.hide()}zv(){const M=this.player.getVideoData();this.Z.update({profilePicture:M.profilePicture,author:M.author});this.subscribeButton.channelId=M.YJ;var W=this.subscribeButton;M.subscribed?W.Z():W.V()}};var b7E=class extends g.w{constructor(M){const W=M.G(),b=g.XH||g.KL?{style:"will-change: opacity"}:void 0,T=W.A,q=["ytp-videowall-still"];W.V&&q.push("ytp-videowall-show-text");super({K:"a",rK:q,Y:{href:"{{url}}",target:T?W.X:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},U:[{K:"div",N:"ytp-videowall-still-image",Y:{style:"{{background}}"}},{K:"span",N:"ytp-videowall-still-info",Y:{"aria-hidden":"true"},U:[{K:"span",N:"ytp-videowall-still-info-bg",
U:[{K:"span",N:"ytp-videowall-still-info-content",Y:b,U:[{K:"span",N:"ytp-videowall-still-info-title",R0:"{{title}}"},{K:"span",N:"ytp-videowall-still-info-author",R0:"{{author_and_views}}"},{K:"span",N:"ytp-videowall-still-info-live",R0:"Ao vivo"},{K:"span",N:"ytp-videowall-still-info-duration",R0:"{{duration}}"}]}]}]},{K:"span",rK:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],Y:{"aria-hidden":"true"},U:[{K:"span",N:"ytp-videowall-still-listlabel-icon"},"Playlist",{K:"span",
N:"ytp-videowall-still-listlabel-length",U:[" (",{K:"span",R0:"{{playlist_length}}"},")"]}]},{K:"span",rK:["ytp-videowall-still-listlabel-mix","ytp-videowall-still-listlabel"],Y:{"aria-hidden":"true"},U:[{K:"span",N:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{K:"span",N:"ytp-videowall-still-listlabel-length",R0:" (50+)"}]}]});this.suggestion=null;this.V=T;this.api=M;this.Z=new g.Cq(this);g.t(this,this.Z);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.Z.J(M,"videodatachange",
this.onVideoDataChange);M.createServerVe(this.element,this);this.onVideoDataChange()}select(){this.api.jA(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.aQ||void 0)&&this.api.logClick(this.element)}onClick(M){if(g.tP(this.api.G())&&this.api.j("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);let W=this.suggestion.Kx();const b={};g.l7(this.api,b);W=g.JM(W,b);g.Pf(W,this.api,M)}else g.OA(M,this.api,
this.V,this.suggestion.sessionData||void 0)&&this.select()}onKeyPress(M){switch(M.keyCode){case 13:case 32:M.defaultPrevented||(this.select(),M.preventDefault())}}onVideoDataChange(){const M=this.api.getVideoData(),W=this.api.G();this.V=M.uN?!1:W.A}};var TbE=class extends Ev{constructor(M){super(M,"videowall-endscreen");this.L=M;this.S=0;this.stills=[];this.C=this.videoData=null;this.W=this.Zs=!1;this.sY=null;this.B=new g.Cq(this);g.t(this,this.B);this.D=new g.d9(()=>{g.pY(this.element,"ytp-show-tiles")},0);
g.t(this,this.D);var W=new g.w({K:"button",rK:["ytp-button","ytp-endscreen-previous"],Y:{"aria-label":"Anterior"},U:[g.BF()]});g.t(this,W);W.cY(this.element);W.listen("click",this.lV,this);this.table=new g.ig({K:"div",N:"ytp-endscreen-content"});g.t(this,this.table);this.table.cY(this.element);W=new g.w({K:"button",rK:["ytp-button","ytp-endscreen-next"],Y:{"aria-label":"Pr\u00f3ximo"},U:[g.DR()]});g.t(this,W);W.cY(this.element);W.listen("click",this.BY,this);M.getVideoData().OY?this.Z=new aT(M,!0):
this.Z=new n8(M);g.t(this,this.Z);g.Im(this.player,this.Z.element,4);M.createClientVe(this.element,this,158789);this.hide()}create(){super.create();var M=this.player.getVideoData();M&&(this.videoData=M);this.V();this.B.J(this.player,"appresize",this.V);this.B.J(this.player,"onVideoAreaChange",this.V);this.B.J(this.player,"videodatachange",this.onVideoDataChange);this.B.J(this.player,"autonavchange",this.X);this.B.J(this.player,"onAutonavCancelled",this.yz);M=this.videoData.autonavState;M!==this.sY&&
this.X(M);this.B.J(this.element,"transitionend",this.An)}destroy(){this.B.V();g.Qb(this.stills);this.stills=[];super.destroy();g.Mw(this.element,"ytp-show-tiles");this.D.stop();this.sY=this.videoData.autonavState}A(){return this.videoData.autonavState!==1}show(){const M=this.Ta;super.show();g.Mw(this.element,"ytp-show-tiles");this.player.G().V?g.oP(this.D):this.D.start();(this.W||this.C&&this.C!==this.videoData.clientPlaybackNonce)&&g.Ke(this.player,!1);Bz(this)?(D1(this),this.videoData.autonavState===
2?this.player.getVisibilityState()===3||Wz(this.player.fK())&&this.player.j("web_player_pip_logging_fix")?this.Z.select(!0):this.Z.S():this.videoData.autonavState===3&&this.Z.B()):(g.Ke(this.player,!0),D1(this));M!==this.Ta&&this.player.logVisibility(this.element,!0)}hide(){const M=this.Ta;super.hide();this.Z.B();D1(this);M!==this.Ta&&this.player.logVisibility(this.element,!1)}An(M){M.target===this.element&&this.V()}V(){var M=this.videoData?.suggestions?.length?this.videoData?.suggestions:[this.videoData?.X()];
if(M.length){g.pY(this.element,"ytp-endscreen-paginate");var W=this.L.RE(!0,this.L.isFullscreen()),b=g.am(this.L);b&&(b=b.sX()?48:32,W.width-=b*2);var T=W.width/W.height,q=96/54,X=b=2,G=Math.max(W.width/96,2),V=Math.max(W.height/54,2),J=M.length;var B=J*4;for(B-=4;B>0&&(b<G||X<V);){var D=b/2,a=X/2,E=b<=G-2&&B>=a*4,n=X<=V-2&&B>=D*4;if((D+1)/a*q/T>T/(D/(a+1)*q)&&n)B-=D*4,X+=2;else if(E)B-=a*4,b+=2;else if(n)B-=D*4,X+=2;else break}q=!1;B>=12&&J*4-B<=6&&(X>=4||b>=4)&&(q=!0);B=b*96;G=X*54;T=B/G<T?W.height/
G:W.width/B;T=Math.min(T,2);B=Math.floor(Math.min(W.width,B*T));G=Math.floor(Math.min(W.height,G*T));W=this.table.element;W.ariaLive="polite";g.sS(W,B,G);g.iq(W,{marginLeft:`${B/-2}px`,marginTop:`${G/-2}px`});this.Z.D(this.videoData.X());this.Z instanceof aT&&X8(this.Z);g.H(this.element,"ytp-endscreen-takeover",Bz(this));D1(this);B+=4;G+=4;T=0;W.ariaBusy="true";for(V=0;V<b;V++)for(D=0;D<X;D++)if(E=T,n=0,q&&V>=b-2&&D>=X-2?n=1:D%2===0&&V%2===0&&(D<2&&V<2?D===0&&V===0&&(n=2):n=2),E=g.RL(E+this.S,J),
n!==0){a=this.stills[T];a||(a=new b7E(this.player),this.stills[T]=a,W.appendChild(a.element));var C=Math.floor(G*D/X);const l=Math.floor(B*V/b),N=Math.floor(G*(D+n)/X)-C-4,R=Math.floor(B*(V+n)/b)-l-4;g.P5(a.element,l,C);g.sS(a.element,R,N);g.iq(a.element,"transitionDelay",(D+V)/20+"s");g.H(a.element,"ytp-videowall-still-mini",n===1);g.H(a.element,"ytp-videowall-still-large",n>2);n=Math.max(R,N);g.H(a.element,"ytp-videowall-still-round-large",n>=256);g.H(a.element,"ytp-videowall-still-round-medium",
n>96&&n<256);g.H(a.element,"ytp-videowall-still-round-small",n<=96);E=M[E];a.suggestion!==E&&(a.suggestion=E,n=a.api.G(),C=g.w9(a.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.vT(a,E,C),g.tP(n)&&!a.api.j("web_player_log_click_before_generating_ve_conversion_params")&&(n=E.Kx(),C={},g.GW(a.api,"addEmbedsConversionTrackingParams",[C]),n=g.JM(n,C),a.updateValue("url",n)),(E=(E=E.sessionData)&&E.itct)&&a.api.setTrackingParams(a.element,E));T++}W.ariaBusy="false";g.H(this.element,
"ytp-endscreen-paginate",T<J);for(M=this.stills.length-1;M>=T;M--)b=this.stills[M],g.a5(b.element),g.cG(b);this.stills.length=T}}onVideoDataChange(){const M=this.player.getVideoData({playerType:1});this.videoData!==M&&(M?.X()?(this.S=0,this.videoData=M,this.V()):this.player.dK("missg",{vid:M?.videoId||"",cpn:M?.clientPlaybackNonce||""}))}BY(){this.S+=this.stills.length;this.V()}lV(){this.S-=this.stills.length;this.V()}O(){return this.Z.Z()}X(M){M===1?(this.W=!1,this.C=this.videoData.clientPlaybackNonce,
this.Z.V(),this.Ta&&this.V()):(this.W=!0,this.Ta&&Bz(this)&&(M===2?this.Z.S():M===3&&this.Z.B()))}yz(M){if(M){for(M=0;M<this.stills.length;M++)this.L.logVisibility(this.stills[M].element,!0);this.X(1)}else this.C=null,this.W=!1;this.V()}h_(){return this.Ta&&Bz(this)}};var qHB=class extends g.w{constructor(M){super({K:"button",rK:["ytp-watch-on-youtube-button","ytp-button"],R0:"{{content}}"});this.L=M;this.buttonType=this.buttonType=1;this.Z();this.buttonType===2&&g.pY(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.Z);this.eW(!0)}Z(){let M,W;switch(this.buttonType){case 1:M="Assista outra vez no YouTube";W=156915;break;case 2:M="Continue assistindo no YouTube";W=156942;break;default:M="Continue assistindo no YouTube",
W=156942}this.update({content:M});this.L.hasVe(this.element)&&this.L.destroyVe(this.element);this.L.createClientVe(this.element,this,W)}onClick(M){this.L.j("web_player_log_click_before_generating_ve_conversion_params")&&this.L.logClick(this.element);g.Pf(this.getVideoUrl(),this.L,M);this.L.j("web_player_log_click_before_generating_ve_conversion_params")||this.L.logClick(this.element)}getVideoUrl(){var M=!0;switch(this.buttonType){case 1:M=!0;break;case 2:M=!1}M=this.L.getVideoUrl(M,!1,!1,!0);const W=
this.L.G();if(g.tP(W)){const b={};g.tP(W)&&g.GW(this.L,"addEmbedsConversionTrackingParams",[b]);M=g.JM(M,b)}return M}logVisibility(){this.L.logVisibility(this.element,this.Ta&&this.gK)}show(){super.show();this.logVisibility()}hide(){super.hide();this.logVisibility()}dG(M){super.dG(M);this.logVisibility()}};var XjI=class extends Ev{constructor(M){super(M,"watch-again-on-youtube-endscreen");this.watchButton=new qHB(M);g.t(this,this.watchButton);this.watchButton.cY(this.element);g.ckp(M)&&(this.Z=new g.Yap(M),g.t(this,this.Z),this.V=new g.w({K:"div",rK:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],Y:{tabIndex:"-1"},U:[this.Z]}),g.t(this,this.V),this.Z.cY(this.V.element),this.V.cY(this.element));M.createClientVe(this.element,this,156914);this.hide()}hasSuggestions(){return this.Z?.hasSuggestions()}show(){if(this.player.getPlayerState()!==
3){super.show();const W=this.V;if(W){var M=this.Z.hasSuggestions();g.H(this.element,"ytp-shorts-branded-ui",M);M?W.show():W.hide()}g.am(this.player)?.z8(!0);this.player.logVisibility(this.element,!0);this.watchButton.dG(!0)}}hide(){super.hide();g.am(this.player)?.z8(!1);this.player.logVisibility(this.element,!1);this.watchButton.dG(!1)}};g.FQ("endscreen",class extends g.F2{constructor(M){super(M);this.endScreen=null;this.Z=this.V=this.B=!1;this.listeners=new g.Cq(this);g.t(this,this.listeners);const W=M.G();M.isEmbedsShortsMode()?this.endScreen=new XjI(M):gyB(M)?(this.B=!0,sE$(this),this.Z?this.endScreen=new $x9(M):W.j("delhi_modern_endscreen")?this.endScreen=new Mar(M):this.endScreen=new TbE(M)):W.Ic?this.endScreen=new WX9(M):this.endScreen=new Ev(M);g.t(this,this.endScreen);g.Im(M,this.endScreen.element,4);wlc(this);this.listeners.J(M,
"videodatachange",this.onVideoDataChange,this);this.listeners.J(M,g.kJ("endscreen"),b=>{this.onCueRangeEnter(b)});
this.listeners.J(M,g.KX("endscreen"),b=>{this.onCueRangeExit(b)})}Wi(){var M=this.player.getVideoData();
const W=M.mutedAutoplay&&(M.limitedPlaybackDurationInSeconds>0||M.endSeconds>0||M.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!W)return!0;var b=!(!M?.X()&&!M?.suggestions?.length);b=!gyB(this.player)||b;M=M.al;const T=this.player.zZ();return b&&!M&&!T&&!W}h_(){return this.endScreen.h_()}Li(){return this.h_()?this.endScreen.O():!1}vY(){this.player.lN("endscreen");super.vY()}load(){{const b=this.player.getVideoData(),T=b.transitionEndpointAtEndOfStream;if(T&&T.videoId){var M=
this.player.lk().Tm.get("heartbeat");var W=b.X();!W||T.videoId!==W.videoId||b.jN?(this.player.jA(T.videoId,void 0,void 0,!0,!0,T),M&&M.zX("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),M=!0):M=!1}else M=!1}M||(super.load(),this.endScreen.show())}unload(){super.unload();this.endScreen.hide();this.endScreen.destroy()}onCueRangeEnter(M){this.Wi()&&(this.endScreen.created||this.endScreen.create(),M.getId()==="load"&&this.load())}onCueRangeExit(M){M.getId()===
"load"&&this.loaded&&this.unload()}onVideoDataChange(){wlc(this);this.B&&sE$(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.Z?this.endScreen=new $x9(this.player):this.endScreen=new TbE(this.player),g.t(this,this.endScreen),g.Im(this.player,this.endScreen.element,4))}});})(_yt_player);
